import{o as ve,J as We,S as V,i as q,s as G,C as Ue,a as B,c as U,d as v,m as y,e as K,t as p,f as d,g as E,h as ye,j as F,k as L,l as M,n as W,p as A,T as Ke,B as Z,A as He,q as Je,r as S,u as Ee,v as re,w as z,x as I,y as H,z as O,D as Le,E as Ae,F as Ze,G as ne,H as Se,I as Ne,K as Ve,L as x,M as ee,N as qe,O as Ge,P as Qe,Q as Xe,R,U as Q,V as Ye,W as xe,X as Ce,Y,Z as et,_ as tt,$ as oe,a0 as ae}from"./vendor.0222cafc.js";const nt=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerpolicy&&(l.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?l.credentials="include":r.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function t(r){if(r.ep)return;r.ep=!0;const l=n(r);fetch(r.href,l)}};nt();function rt(s=""){const[e,n]=st(s,/[\d~,]+$/);console.log("\u{1F680} ~ destructArgString ~ [lawName, query]",[e,n]);const t="[1-9][0-9]*",r=`(?:${t}-${t}|${t})`,l=`(?:${r}~${r}|~${r}|${r}~|${r})`;if(new RegExp(`^(${l}(?:,${l})*)$`).test(n)){const i=n.split(",").map(o=>{let c,u;if(new RegExp(`${r}~${r}`).test(o))[c,u]=o.split("~");else if(new RegExp(`~${r}`).test(o))u=o.substring(1);else if(new RegExp(`${r}~`).test(o))c=o.substring(0,o.length-1);else return o;return[c,u]});return{lawName:e,options:i}}else return{lawName:e,options:[null]}}function st(s,e){const n=s.search(e);return n===-1?[s,""]:[s.substring(0,n),s.substring(n)]}async function lt(){let s=!0;return await ve("law-db",1,{upgrade(e){console.log("upgrade"),e.createObjectStore("update-records"),e.createObjectStore("laws",{keyPath:"LawName"}),e.createObjectStore("aliases"),s=!1}}),s}async function Ie(){const e=await(await J()).transaction("update-records").store.openCursor(null,"prev");if(e)return{timestamp:e.key,date:e.value}}async function Oe(s){(await J()).put("update-records",s,Date.now())}async function Pe(s){const n=(await J()).transaction("laws","readwrite");await Promise.all([...s.map(t=>n.store.put(t)),n.done])}async function ot(){return await(await J()).getAll("laws")}async function Re(){const s=await J(),e=await s.getAllKeys("aliases"),n=s.transaction("aliases","readonly"),t={},r=e.map(async l=>{t[l]=await n.store.get(l)});return await Promise.all([...r,n.done]),t}async function at(s,e){await(await J()).put("aliases",e,s)}async function se(s){const n=(await J()).transaction("aliases","readwrite");await Promise.all([...Object.entries(s).map(([t,r])=>n.store.put(r,t)),n.done])}async function J(){return await ve("law-db")}async function Te(){const e=await(await fetch("/src/assets/ChLaw.json.zip")).blob(),t=await(await new We().loadAsync(e)).file("ChLaw.json").async("string");return JSON.parse(t.trim())}let le=!1,j,T,De=[];(async()=>{try{if(await lt())j=await ot(),T=await Re(),console.log(Object.keys(T)),j.forEach(e=>{e.LawAlias=T[e.LawName]});else{console.log("db not found, start initialize...");const e=await Te(),n=ze(e.Laws);T=n.aliases,j=n.laws,Oe(e.UpdateDate),Pe(j),se(T)}le=!0,De.forEach(e=>{e()})}catch(s){console.log(s)}})();function ze(s){const e={};return s.forEach(n=>{n.LawArticles.forEach(t=>{t.ArticleNo=t.ArticleNo.slice(2,-2);const r=/\r\n(?![一二三四五六七八九十]{1,3}[、\s]|[┌┐├│]|(?:\s\s){0,1}第\s\d[\d\s]\s|（[一二三四五六七八九十]）|\s\s（[一二三四五六七八九十]）)/;t.ArticleContents=t.ArticleContent.split(r),n.LawAlias=[n.LawName],e[n.LawName]=[n.LawName]})}),{aliases:e,laws:s}}function je(s){if(le){s();return}De.push(s)}async function it(){if(!le)throw new Error("Data is not loaded yet.");const[s,e]=await Promise.all([Te(),Ie()]);if(e&&e.date===s.UpdateDate)return{date:e.date,msg:"No need to update"};j=ze(s.Laws).laws,j.forEach(({LawName:a})=>{T.hasOwnProperty(a)||at(a,[a])});const t=Oe(s.UpdateDate),r=Pe(j),l=se(T);await Promise.all([t,r,l])}const te={PERFECT:10,CONNECTED:5,COUNT:1},D=",";async function ct(s){let e=null;const n=new RegExp(`^${s}${D}|${D}${s}${D}|${D}${s}$`);return Object.entries(T).some(([t,r])=>{const l=r.join(D).concat(",");if(n.test(l))return e=j.find(a=>a.LawName===t),!0}),e}async function Be(s,e){const t=j.filter(r=>{let l=0;const a=T[r.LawName].join(D).concat(",");return l+=new RegExp(`^${s}${D}|${D}${s}${D}|${D}${s}$`).test(a)?te.PERFECT:0,s.length>1&&(l+=new RegExp(s).test(a)?te.CONNECTED:0),l+=$t(a,`[${s}]`)*te.COUNT*Math.exp(-r.LawName.length),r.Score=l,l!==0}).sort((r,l)=>l.Score-r.Score);return e?t.slice(0,e):t}async function ut(s,e){if(Array.isArray(e))return pt(s,e[0],e[1]);if(typeof e=="string"){const n=ft(s,e);return n?[n]:[]}return s}function ft(s,e){return s.find(n=>n.ArticleNo===e)}function ie(s,e){return s.findIndex(n=>n.ArticleNo===e)}function pt(s,e,n){const t=s.length,r=ie(s,e),l=ie(s,n);let a=r<0?0:r,i=l>t-1||l===-1?t-1:l;if(a>i){const o=a;a=i,i=o}return s.slice(a,i+1)}function $t(s,e){return(s.match(new RegExp(e,"g"))||[]).length}function dt(s){let e,n,t,r;function l(o){s[6](o)}function a(o){s[7](o)}let i={disabled:!s[0],size:"sm",placeholder:s[0]?"\u641C\u5C0B":"\u8F09\u5165\u4E2D...",items:s[2]};return s[1]!==void 0&&(i.value=s[1]),s[3]!==void 0&&(i.ref=s[3]),e=new Ue({props:i}),B.push(()=>U(e,"value",l)),B.push(()=>U(e,"ref",a)),{c(){v(e.$$.fragment)},m(o,c){y(e,o,c),r=!0},p(o,[c]){const u={};c&1&&(u.disabled=!o[0]),c&1&&(u.placeholder=o[0]?"\u641C\u5C0B":"\u8F09\u5165\u4E2D..."),c&4&&(u.items=o[2]),!n&&c&2&&(n=!0,u.value=o[1],K(()=>n=!1)),!t&&c&8&&(t=!0,u.ref=o[3],K(()=>t=!1)),e.$set(u)},i(o){r||(p(e.$$.fragment,o),r=!0)},o(o){d(e.$$.fragment,o),r=!1},d(o){E(e,o)}}}function _t(s,e,n){let t,r=!1;je(()=>{n(0,r=!0)});const l=ye();let a=[],i,o="";function c(){i.focus()}async function u(_){return r?await Be(_,5):void 0}async function g(_,b){if(!r)return;const N={name:"",articles:[]},h=await ct(_);if(!h)return;N.name=h.LawName;const $=b.map(async f=>await ut(h.LawArticles,f));for(const f of $){const m=await f;N.articles.push(...m)}return N}function k(_){o=_,n(1,o)}function C(_){i=_,n(3,i)}return s.$$.update=()=>{s.$$.dirty&2&&n(5,t=rt(o)),s.$$.dirty&35&&u(t.lawName).then(_=>{var N;if(!r)return;if(_.length===0){n(2,a=[]);return}const b=_.map(({LawName:h})=>({id:h,text:h}));if(t.lawName===b[0].text||((N=T[b[0].text])==null?void 0:N.includes(t.lawName))){b[0].text=b[0].text.concat(o.replace(t.lawName,"")),n(2,a=[b[0]]);return}if(o===""){n(2,a=b);return}n(2,a=[{id:-1,text:o},...b.slice(1)])}),s.$$.dirty&32&&g(t.lawName,t.options).then(_=>{_&&l("search",_)}).catch(_=>console.log(_))},[r,o,a,i,c,t,k,C]}class mt extends V{constructor(e){super();q(this,e,_t,dt,G,{focus:4})}get focus(){return this.$$.ctx[4]}}function ce(s){let e,n,t,r;function l(o){s[6](o)}function a(o){s[7](o)}let i={labelText:s[0],children:s[2]};return s[3]!==void 0&&(i.activeId=s[3]),s[4]!==void 0&&(i.selectedIds=s[4]),e=new Ke({props:i}),B.push(()=>U(e,"activeId",l)),B.push(()=>U(e,"selectedIds",a)),s[8](e),{c(){v(e.$$.fragment)},m(o,c){y(e,o,c),r=!0},p(o,c){const u={};c&1&&(u.labelText=o[0]),c&4&&(u.children=o[2]),!n&&c&8&&(n=!0,u.activeId=o[3],K(()=>n=!1)),!t&&c&16&&(t=!0,u.selectedIds=o[4],K(()=>t=!1)),e.$set(u)},i(o){r||(p(e.$$.fragment,o),r=!0)},o(o){d(e.$$.fragment,o),r=!1},d(o){s[8](null),E(e,o)}}}function gt(s){let e,n,t=s[0]&&ce(s);return{c(){t&&t.c(),e=F()},m(r,l){t&&t.m(r,l),L(r,e,l),n=!0},p(r,[l]){r[0]?t?(t.p(r,l),l&1&&p(t,1)):(t=ce(r),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(M(),d(t,1,1,()=>{t=null}),W())},i(r){n||(p(t),n=!0)},o(r){d(t),n=!1},d(r){t&&t.d(r),r&&A(e)}}}function ht(s){return s.map(({ArticleType:e,ArticleNo:n,ArticleContents:t},r)=>e==="C"?{id:r,text:t[0]}:{id:r,text:`\u7B2C ${n} \u689D`,children:t.map((l,a)=>({id:r.toString()+a,text:l}))})}function bt(s,e,n){let t,{name:r=null}=e,{articles:l=[]}=e,a="",i=[],o;function c(k){a=k,n(3,a)}function u(k){i=k,n(4,i)}function g(k){B[k?"unshift":"push"](()=>{o=k,n(1,o)})}return s.$$set=k=>{"name"in k&&n(0,r=k.name),"articles"in k&&n(5,l=k.articles)},s.$$.update=()=>{s.$$.dirty&32&&n(2,t=ht(l)),s.$$.dirty&38&&t.length<=100&&(o==null||o.expandAll())},[r,o,t,a,i,l,c,u,g]}class wt extends V{constructor(e){super();q(this,e,bt,gt,G,{name:0,articles:5})}}const P=100,Fe=100,kt="modulepreload",ue={},vt="/",yt=function(e,n){return!n||n.length===0?e():Promise.all(n.map(t=>{if(t=`${vt}${t}`,t in ue)return;ue[t]=!0;const r=t.endsWith(".css"),l=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${l}`))return;const a=document.createElement("link");if(a.rel=r?"stylesheet":kt,r||(a.as="script",a.crossOrigin=""),a.href=t,document.head.appendChild(a),r)return new Promise((i,o)=>{a.addEventListener("load",i),a.addEventListener("error",o)})})).then(()=>e())};let Me;yt(()=>import("./vendor.0222cafc.js").then(function(s){return s.b}),["assets/vendor.0222cafc.js","assets/vendor.30b899a4.css"]).then(s=>{Me=s}).catch(s=>{console.log(s)});var fe=Me;function pe(s,e,n){const t=s.slice();return t[12]=e[n],t[14]=n,t}function $e(s,e,n){const t=s.slice();return t[15]=e[n],t[17]=n,t}function de(s,e,n){const t=s.slice();return t[19]=e[n],t[20]=e,t[14]=n,t}function _e(s){let e,n=s[14],t;const r=()=>s[8](e,n),l=()=>s[8](null,n);function a(...o){return s[9](s[14],...o)}let i={};return e=new mt({props:i}),r(),e.$on("search",a),{c(){v(e.$$.fragment)},m(o,c){y(e,o,c),t=!0},p(o,c){s=o,n!==s[14]&&(l(),n=s[14],r());const u={};e.$set(u)},i(o){t||(p(e.$$.fragment,o),t=!0)},o(o){d(e.$$.fragment,o),t=!1},d(o){l(),E(e,o)}}}function Et(s){let e,n;return e=new Z({props:{size:"small",kind:"ghost",iconDescription:"Settings",icon:ne}}),e.$on("click",s[6]),{c(){v(e.$$.fragment)},m(t,r){y(e,t,r),n=!0},p:S,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){E(e,t)}}}function Lt(s){return{c:S,m:S,p:S,i:S,o:S,d:S}}function At(s){let e,n,t=s[18]&&St(s);return{c(){t&&t.c(),e=I()},m(r,l){t&&t.m(r,l),L(r,e,l),n=!0},p(r,l){r[18]&&t.p(r,l)},i(r){n||(p(t),n=!0)},o(r){d(t),n=!1},d(r){t&&t.d(r),r&&A(e)}}}function St(s){let e,n;return e=new wt({props:{name:s[12].name,articles:s[12].articles.slice(s[17]*P,(s[17]+1)*P)}}),{c(){v(e.$$.fragment)},m(t,r){y(e,t,r),n=!0},p(t,r){const l={};r&8&&(l.name=t[12].name),r&8&&(l.articles=t[12].articles.slice(t[17]*P,(t[17]+1)*P)),e.$set(l)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){E(e,t)}}}function Nt(s){return{c:S,m:S,p:S,i:S,o:S,d:S}}function me(s){let e,n,t={ctx:s,current:null,token:null,hasCatch:!1,pending:Nt,then:At,catch:Lt,value:18,blocks:[,,,]};return Se(s[7](),t),{c(){e=F(),t.block.c()},m(r,l){L(r,e,l),t.block.m(r,t.anchor=l),t.mount=()=>e.parentNode,t.anchor=e,n=!0},p(r,l){s=r,Ee(t,s,l)},i(r){n||(p(t.block),n=!0)},o(r){for(let l=0;l<3;l+=1){const a=t.blocks[l];d(a)}n=!1},d(r){r&&A(e),t.block.d(r),t.token=null,t=null}}}function ge(s,e){let n,t,r,l=Array(Math.floor(e[12].articles.length/P)+1).fill(!0),a=[];for(let o=0;o<l.length;o+=1)a[o]=me($e(e,l,o));const i=o=>d(a[o],1,1,()=>{a[o]=null});return{key:s,first:null,c(){n=F();for(let o=0;o<a.length;o+=1)a[o].c();t=F(),this.first=n},m(o,c){L(o,n,c);for(let u=0;u<a.length;u+=1)a[u].m(o,c);L(o,t,c),r=!0},p(o,c){if(e=o,c&136){l=Array(Math.floor(e[12].articles.length/P)+1).fill(!0);let u;for(u=0;u<l.length;u+=1){const g=$e(e,l,u);a[u]?(a[u].p(g,c),p(a[u],1)):(a[u]=me(g),a[u].c(),p(a[u],1),a[u].m(t.parentNode,t))}for(M(),u=l.length;u<a.length;u+=1)i(u);W()}},i(o){if(!r){for(let c=0;c<l.length;c+=1)p(a[c]);r=!0}},o(o){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)d(a[c]);r=!1},d(o){o&&A(n),re(a,o),o&&A(t)}}}function Ct(s){let e,n,t,r,l,a,i,o,c,u=[],g=new Map,k,C=s[1],_=[];for(let f=0;f<C.length;f+=1)_[f]=_e(de(s,C,f));const b=f=>d(_[f],1,1,()=>{_[f]=null});l=new Z({props:{size:"small",iconDescription:"Add",icon:He}}),l.$on("click",s[4]),i=new Z({props:{size:"small",iconDescription:"Remove",icon:Je}}),i.$on("click",s[5]);let N=!s[0]&&Et(s),h=s[3];const $=f=>f[14];for(let f=0;f<h.length;f+=1){let m=pe(s,h,f),w=$(m);g.set(w,u[f]=ge(w,m))}return{c(){e=z("main"),n=z("div");for(let f=0;f<_.length;f+=1)_[f].c();t=I(),r=z("div"),v(l.$$.fragment),a=I(),v(i.$$.fragment),o=I(),N&&N.c(),c=I();for(let f=0;f<u.length;f+=1)u[f].c();H(e,"class","svelte-1qvtyzj")},m(f,m){L(f,e,m),O(e,n);for(let w=0;w<_.length;w+=1)_[w].m(n,null);O(e,t),O(e,r),y(l,r,null),O(r,a),y(i,r,null),O(r,o),N&&N.m(r,null),O(e,c);for(let w=0;w<u.length;w+=1)u[w].m(e,null);k=!0},p(f,[m]){if(m&14){C=f[1];let w;for(w=0;w<C.length;w+=1){const X=de(f,C,w);_[w]?(_[w].p(X,m),p(_[w],1)):(_[w]=_e(X),_[w].c(),p(_[w],1),_[w].m(n,null))}for(M(),w=C.length;w<_.length;w+=1)b(w);W()}f[0]||N.p(f,m),m&136&&(h=f[3],M(),u=Le(u,m,$,1,f,h,g,e,Ne,ge,null,pe),W())},i(f){if(!k){for(let m=0;m<C.length;m+=1)p(_[m]);p(l.$$.fragment,f),p(i.$$.fragment,f),p(N);for(let m=0;m<h.length;m+=1)p(u[m]);k=!0}},o(f){_=_.filter(Boolean);for(let m=0;m<_.length;m+=1)d(_[m]);d(l.$$.fragment,f),d(i.$$.fragment,f),d(N);for(let m=0;m<u.length;m+=1)d(u[m]);k=!1},d(f){f&&A(e),re(_,f),E(l),E(i),N&&N.d();for(let m=0;m<u.length;m+=1)u[m].d()}}}let It=0;function Ot(s,e,n){Ae(()=>{window.onunhandledrejection=b=>{console.log("we got exception, but the app has crashed",b)}});let t=[0],r=[],l=!0,a=[];const i=!1,o=ye();Ze("s",b=>{!l||(r[It].focus(),l=!1,b.preventDefault())});function c(){t.push(0),n(1,t)}function u(){t.pop(),r.pop(),a.pop(),n(1,t),n(3,a)}function g(){if(fe){fe.runtime.openOptionsPage();return}o("openOptions")}function k(){return new Promise(b=>{setTimeout(()=>{b(!0)},Fe)})}function C(b,N){B[b?"unshift":"push"](()=>{r[N]=b,n(2,r)})}return[i,t,r,a,c,u,g,k,C,(b,N)=>{n(3,a[b]=N.detail,a)}]}class Pt extends V{constructor(e){super();q(this,e,Ot,Ct,G,{isWebpage:0})}get isWebpage(){return this.$$.ctx[0]}}function he(s,e,n){const t=s.slice();return t[15]=e[n],t[17]=n,t}function be(s,e,n){const t=s.slice();return t[19]=e[n].name,t[20]=e[n].alias,t[21]=e,t[22]=n,t}function Rt(s){let e,n,t,r,l,a;return e=new x({props:{label:"\u6CD5\u898F\u5225\u540D"}}),t=new x({props:{label:"\u6CD5\u898F\u66F4\u65B0"}}),l=new x({props:{label:"\u5176\u4ED6"}}),{c(){v(e.$$.fragment),n=I(),v(t.$$.fragment),r=I(),v(l.$$.fragment)},m(i,o){y(e,i,o),L(i,n,o),y(t,i,o),L(i,r,o),y(l,i,o),a=!0},p:S,i(i){a||(p(e.$$.fragment,i),p(t.$$.fragment,i),p(l.$$.fragment,i),a=!0)},o(i){d(e.$$.fragment,i),d(t.$$.fragment,i),d(l.$$.fragment,i),a=!1},d(i){E(e,i),i&&A(n),E(t,i),i&&A(r),E(l,i)}}}function Tt(s){let e;return{c(){e=R("\u5132\u5B58")},m(n,t){L(n,e,t)},d(n){n&&A(e)}}}function Dt(s){let e;return{c(){e=R("\u6CD5\u898F")},m(n,t){L(n,e,t)},d(n){n&&A(e)}}}function zt(s){let e;return{c(){e=R("\u5225\u540D")},m(n,t){L(n,e,t)},d(n){n&&A(e)}}}function jt(s){let e,n,t,r;return e=new Y({props:{head:!0,$$slots:{default:[Dt]},$$scope:{ctx:s}}}),t=new Y({props:{head:!0,$$slots:{default:[zt]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment),n=I(),v(t.$$.fragment)},m(l,a){y(e,l,a),L(l,n,a),y(t,l,a),r=!0},p(l,a){const i={};a&8388608&&(i.$$scope={dirty:a,ctx:l}),e.$set(i);const o={};a&8388608&&(o.$$scope={dirty:a,ctx:l}),t.$set(o)},i(l){r||(p(e.$$.fragment,l),p(t.$$.fragment,l),r=!0)},o(l){d(e.$$.fragment,l),d(t.$$.fragment,l),r=!1},d(l){E(e,l),l&&A(n),E(t,l)}}}function Bt(s){let e,n;return e=new Ce({props:{head:!0,$$slots:{default:[jt]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment)},m(t,r){y(e,t,r),n=!0},p(t,r){const l={};r&8388608&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){E(e,t)}}}function Ft(s){let e,n,t=Array(Math.floor(s[2].length/P)+1).fill(!0),r=[];for(let a=0;a<t.length;a+=1)r[a]=ke(he(s,t,a));const l=a=>d(r[a],1,1,()=>{r[a]=null});return{c(){for(let a=0;a<r.length;a+=1)r[a].c();e=F()},m(a,i){for(let o=0;o<r.length;o+=1)r[o].m(a,i);L(a,e,i),n=!0},p(a,i){if(i&524){t=Array(Math.floor(a[2].length/P)+1).fill(!0);let o;for(o=0;o<t.length;o+=1){const c=he(a,t,o);r[o]?(r[o].p(c,i),p(r[o],1)):(r[o]=ke(c),r[o].c(),p(r[o],1),r[o].m(e.parentNode,e))}for(M(),o=t.length;o<r.length;o+=1)l(o);W()}},i(a){if(!n){for(let i=0;i<t.length;i+=1)p(r[i]);n=!0}},o(a){r=r.filter(Boolean);for(let i=0;i<r.length;i+=1)d(r[i]);n=!1},d(a){re(r,a),a&&A(e)}}}function Mt(s){let e,n,t,r;return{c(){e=z("div"),n=R('\u6C92\u6709\u95DC\u65BC"'),t=R(s[1]),r=R('"\u7684\u6CD5\u898F'),H(e,"class","not-found svelte-1l4rbpi")},m(l,a){L(l,e,a),O(e,n),O(e,t),O(e,r)},p(l,a){a&2&&Q(t,l[1])},i:S,o:S,d(l){l&&A(e)}}}function Wt(s){return{c:S,m:S,p:S,i:S,o:S,d:S}}function Ut(s){let e=[],n=new Map,t,r,l=s[2].slice(s[17]*P,(s[17]+1)*P);const a=i=>i[19];for(let i=0;i<l.length;i+=1){let o=be(s,l,i),c=a(o);n.set(c,e[i]=we(c,o))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=I()},m(i,o){for(let c=0;c<e.length;c+=1)e[c].m(i,o);L(i,t,o),r=!0},p(i,o){o&12&&(l=i[2].slice(i[17]*P,(i[17]+1)*P),M(),e=Le(e,o,a,1,i,l,n,t.parentNode,Ne,we,t,be),W())},i(i){if(!r){for(let o=0;o<l.length;o+=1)p(e[o]);r=!0}},o(i){for(let o=0;o<e.length;o+=1)d(e[o]);r=!1},d(i){for(let o=0;o<e.length;o+=1)e[o].d(i);i&&A(t)}}}function Kt(s){let e=s[19]+"",n;return{c(){n=R(e)},m(t,r){L(t,n,r)},p(t,r){r&4&&e!==(e=t[19]+"")&&Q(n,e)},d(t){t&&A(n)}}}function Ht(s){let e,n,t;function r(a){s[13](a,s[19])}let l={placeholder:"\u8ACB\u4EE5<,>\u9032\u884C\u5206\u9694",value:s[20]};return s[3][s[19]]!==void 0&&(l.ref=s[3][s[19]]),e=new et({props:l}),B.push(()=>U(e,"ref",r)),{c(){v(e.$$.fragment)},m(a,i){y(e,a,i),t=!0},p(a,i){s=a;const o={};i&4&&(o.value=s[20]),!n&&i&12&&(n=!0,o.ref=s[3][s[19]],K(()=>n=!1)),e.$set(o)},i(a){t||(p(e.$$.fragment,a),t=!0)},o(a){d(e.$$.fragment,a),t=!1},d(a){E(e,a)}}}function Jt(s){let e,n,t,r;return e=new Y({props:{$$slots:{default:[Kt]},$$scope:{ctx:s}}}),t=new Y({props:{$$slots:{default:[Ht]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment),n=I(),v(t.$$.fragment)},m(l,a){y(e,l,a),L(l,n,a),y(t,l,a),r=!0},p(l,a){const i={};a&8388612&&(i.$$scope={dirty:a,ctx:l}),e.$set(i);const o={};a&8388620&&(o.$$scope={dirty:a,ctx:l}),t.$set(o)},i(l){r||(p(e.$$.fragment,l),p(t.$$.fragment,l),r=!0)},o(l){d(e.$$.fragment,l),d(t.$$.fragment,l),r=!1},d(l){E(e,l),l&&A(n),E(t,l)}}}function we(s,e){let n,t,r;return t=new Ce({props:{label:!0,for:"row-"+e[19],$$slots:{default:[Jt]},$$scope:{ctx:e}}}),{key:s,first:null,c(){n=F(),v(t.$$.fragment),this.first=n},m(l,a){L(l,n,a),y(t,l,a),r=!0},p(l,a){e=l;const i={};a&4&&(i.for="row-"+e[19]),a&8388620&&(i.$$scope={dirty:a,ctx:e}),t.$set(i)},i(l){r||(p(t.$$.fragment,l),r=!0)},o(l){d(t.$$.fragment,l),r=!1},d(l){l&&A(n),E(t,l)}}}function Zt(s){return{c:S,m:S,p:S,i:S,o:S,d:S}}function ke(s){let e,n,t={ctx:s,current:null,token:null,hasCatch:!1,pending:Zt,then:Ut,catch:Wt,value:18,blocks:[,,,]};return Se(s[9](s[17]),t),{c(){e=F(),t.block.c()},m(r,l){L(r,e,l),t.block.m(r,t.anchor=l),t.mount=()=>e.parentNode,t.anchor=e,n=!0},p(r,l){s=r,Ee(t,s,l)},i(r){n||(p(t.block),n=!0)},o(r){for(let l=0;l<3;l+=1){const a=t.blocks[l];d(a)}n=!1},d(r){r&&A(e),t.block.d(r),t.token=null,t=null}}}function Vt(s){let e,n,t,r;const l=[Mt,Ft],a=[];function i(o,c){return o[2].length===0?0:1}return e=i(s),n=a[e]=l[e](s),{c(){n.c(),t=F()},m(o,c){a[e].m(o,c),L(o,t,c),r=!0},p(o,c){let u=e;e=i(o),e===u?a[e].p(o,c):(M(),d(a[u],1,1,()=>{a[u]=null}),W(),n=a[e],n?n.p(o,c):(n=a[e]=l[e](o),n.c()),p(n,1),n.m(t.parentNode,t))},i(o){r||(p(n),r=!0)},o(o){d(n),r=!1},d(o){a[e].d(o),o&&A(t)}}}function qt(s){let e,n,t,r;return e=new Ye({props:{$$slots:{default:[Bt]},$$scope:{ctx:s}}}),t=new xe({props:{$$slots:{default:[Vt]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment),n=I(),v(t.$$.fragment)},m(l,a){y(e,l,a),L(l,n,a),y(t,l,a),r=!0},p(l,a){const i={};a&8388608&&(i.$$scope={dirty:a,ctx:l}),e.$set(i);const o={};a&8388622&&(o.$$scope={dirty:a,ctx:l}),t.$set(o)},i(l){r||(p(e.$$.fragment,l),p(t.$$.fragment,l),r=!0)},o(l){d(e.$$.fragment,l),d(t.$$.fragment,l),r=!1},d(l){E(e,l),l&&A(n),E(t,l)}}}function Gt(s){let e,n,t,r,l,a,i,o;function c(g){s[12](g)}let u={disabled:!s[0],placeholder:s[0]?"\u641C\u5C0B\u6CD5\u898F\u540D\u7A31\u6216\u5225\u540D":"\u8F09\u5165\u4E2D...",autofocus:!0};return s[1]!==void 0&&(u.value=s[1]),n=new qe({props:u}),B.push(()=>U(n,"value",c)),l=new Z({props:{size:"small",icon:Ge,disabled:s[4],$$slots:{default:[Tt]},$$scope:{ctx:s}}}),l.$on("click",s[7]),i=new Qe({props:{condensed:!0,$$slots:{default:[qt]},$$scope:{ctx:s}}}),{c(){e=z("content"),v(n.$$.fragment),r=I(),v(l.$$.fragment),a=I(),v(i.$$.fragment),H(e,"class","svelte-1l4rbpi")},m(g,k){L(g,e,k),y(n,e,null),O(e,r),y(l,e,null),O(e,a),y(i,e,null),o=!0},p(g,k){const C={};k&1&&(C.disabled=!g[0]),k&1&&(C.placeholder=g[0]?"\u641C\u5C0B\u6CD5\u898F\u540D\u7A31\u6216\u5225\u540D":"\u8F09\u5165\u4E2D..."),!t&&k&2&&(t=!0,C.value=g[1],K(()=>t=!1)),n.$set(C);const _={};k&16&&(_.disabled=g[4]),k&8388608&&(_.$$scope={dirty:k,ctx:g}),l.$set(_);const b={};k&8388622&&(b.$$scope={dirty:k,ctx:g}),i.$set(b)},i(g){o||(p(n.$$.fragment,g),p(l.$$.fragment,g),p(i.$$.fragment,g),o=!0)},o(g){d(n.$$.fragment,g),d(l.$$.fragment,g),d(i.$$.fragment,g),o=!1},d(g){g&&A(e),E(n),E(l),E(i)}}}function Qt(s){let e=s[5]?"\u4E0B\u8F09\u4E2D...":"\u66F4\u65B0\u6CD5\u898F",n;return{c(){n=R(e)},m(t,r){L(t,n,r)},p(t,r){r&32&&e!==(e=t[5]?"\u4E0B\u8F09\u4E2D...":"\u66F4\u65B0\u6CD5\u898F")&&Q(n,e)},d(t){t&&A(n)}}}function Xt(s){let e,n,t,r,l,a;return n=new Z({props:{icon:Xe,disabled:s[5],$$slots:{default:[Qt]},$$scope:{ctx:s}}}),n.$on("click",s[8]),{c(){e=z("content"),v(n.$$.fragment),t=I(),r=z("p"),l=R(s[6]),H(e,"class","svelte-1l4rbpi")},m(i,o){L(i,e,o),y(n,e,null),O(e,t),O(e,r),O(r,l),a=!0},p(i,o){const c={};o&32&&(c.disabled=i[5]),o&8388640&&(c.$$scope={dirty:o,ctx:i}),n.$set(c),(!a||o&64)&&Q(l,i[6])},i(i){a||(p(n.$$.fragment,i),a=!0)},o(i){d(n.$$.fragment,i),a=!1},d(i){i&&A(e),E(n)}}}function Yt(s){let e;return{c(){e=R("Content 3")},m(n,t){L(n,e,t)},d(n){n&&A(e)}}}function xt(s){let e,n,t,r,l,a;return e=new ee({props:{$$slots:{default:[Gt]},$$scope:{ctx:s}}}),t=new ee({props:{$$slots:{default:[Xt]},$$scope:{ctx:s}}}),l=new ee({props:{$$slots:{default:[Yt]},$$scope:{ctx:s}}}),{c(){v(e.$$.fragment),n=I(),v(t.$$.fragment),r=I(),v(l.$$.fragment)},m(i,o){y(e,i,o),L(i,n,o),y(t,i,o),L(i,r,o),y(l,i,o),a=!0},p(i,o){const c={};o&8388639&&(c.$$scope={dirty:o,ctx:i}),e.$set(c);const u={};o&8388704&&(u.$$scope={dirty:o,ctx:i}),t.$set(u);const g={};o&8388608&&(g.$$scope={dirty:o,ctx:i}),l.$set(g)},i(i){a||(p(e.$$.fragment,i),p(t.$$.fragment,i),p(l.$$.fragment,i),a=!0)},o(i){d(e.$$.fragment,i),d(t.$$.fragment,i),d(l.$$.fragment,i),a=!1},d(i){E(e,i),i&&A(n),E(t,i),i&&A(r),E(l,i)}}}function en(s){let e,n,t;return n=new Ve({props:{autoWidth:!0,$$slots:{content:[xt],default:[Rt]},$$scope:{ctx:s}}}),{c(){e=z("main"),v(n.$$.fragment),H(e,"class","svelte-1l4rbpi")},m(r,l){L(r,e,l),y(n,e,null),t=!0},p(r,[l]){const a={};l&8388735&&(a.$$scope={dirty:l,ctx:r}),n.$set(a)},i(r){t||(p(n.$$.fragment,r),t=!0)},o(r){d(n.$$.fragment,r),t=!1},d(r){r&&A(e),E(n)}}}function tn(s,e,n){let t=!1;je(()=>{n(0,t=!0),Re().then($=>{const f=[];for(const m in $){let w="";$[m].length>1&&(w=$[m].slice(1).join(",").concat(",")),f.push({name:m,alias:w})}n(2,l=f),n(11,c=$)}),Ie().then($=>{if($){const f=new Date($.timestamp).toLocaleString();n(6,u=`\u6700\u5F8C\u4E00\u6B21\u66F4\u65B0\u6642\u9593\uFF1A${f}\uFF08${$.date}\u7248\uFF09`)}})}),Ae(()=>{window.onunhandledrejection=$=>{console.log("we got exception, but the app has crashed",$)}});let r="",l=[],a={},i=!1,o=!1,c,u="",{isWebpage:g=!1}=e;async function k($){return t?await Be($):void 0}async function C(){n(4,i=!0);const $={};Object.keys(a).forEach(f=>{if(a[f]){const m=a[f].value,w=[f,...m.split(",").filter(X=>X.length>0)];w!==c[f]&&($[f]=w)}});try{await se($),n(11,c=$),console.log("saved")}catch(f){console.log(f)}finally{n(4,i=!1)}}async function _(){n(5,o=!0);try{const{date:$,msg:f}=await it();f==="No need to update"?n(6,u=`\u6CD5\u898F\u5DF2\u662F\u6700\u65B0\u7248\u672C\uFF08${$}\u7248\uFF09`):n(6,u=`\u6CD5\u898F\u66F4\u65B0\u6210\u529F\uFF08${$}\u7248\uFF09`)}catch($){n(6,u="\u6CD5\u898F\u66F4\u65B0\u5931\u6557:("),console.log($)}finally{n(5,o=!1)}}function b($){return $===0?new Promise(f=>{f(!0)}):new Promise(f=>{setTimeout(()=>{f(!0)},Fe)})}function N($){r=$,n(1,r)}function h($,f){s.$$.not_equal(a[f],$)&&(a[f]=$,n(3,a))}return s.$$set=$=>{"isWebpage"in $&&n(10,g=$.isWebpage)},s.$$.update=()=>{s.$$.dirty&2051&&k(r).then($=>{!t||n(2,l=$.map(({LawName:f})=>{let m="";return c&&c[f].length>1&&(m=c[f].slice(1).join(",").concat(",")),{name:f,alias:m}}))})},[t,r,l,a,i,o,u,C,_,b,g,c,N,h]}class nn extends V{constructor(e){super();q(this,e,tn,en,G,{isWebpage:10})}}function rn(s){let e=s[2]==="popup"?"\u8A2D\u5B9A\u9801\u9762":"\u641C\u5C0B\u9801\u9762",n;return{c(){n=R(e)},m(t,r){L(t,n,r)},p(t,r){r&4&&e!==(e=t[2]==="popup"?"\u8A2D\u5B9A\u9801\u9762":"\u641C\u5C0B\u9801\u9762")&&Q(n,e)},d(t){t&&A(n)}}}function sn(s){let e,n;return e=new nn({}),{c(){v(e.$$.fragment)},m(t,r){y(e,t,r),n=!0},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){E(e,t)}}}function ln(s){let e,n;return e=new Pt({props:{isWebpage:!0}}),{c(){v(e.$$.fragment)},m(t,r){y(e,t,r),n=!0},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){E(e,t)}}}function on(s){let e,n,t,r,l,a,i,o,c,u,g;function k(h){s[3](h)}let C={};s[0]!==void 0&&(C.size=s[0]),e=new tt({props:C}),B.push(()=>U(e,"size",k)),e.$on("match",s[4]),l=new Z({props:{size:"small",kind:"secondary",icon:s[2]==="popup"?ne:oe,$$slots:{default:[rn]},$$scope:{ctx:s}}}),l.$on("click",s[5]);const _=[ln,sn],b=[];function N(h,$){return h[2]==="popup"?0:1}return o=N(s),c=b[o]=_[o](s),{c(){v(e.$$.fragment),t=I(),r=z("main"),v(l.$$.fragment),a=I(),i=z("section"),c.c(),H(i,"class",u=ae(s[0])+" svelte-1a44pmk")},m(h,$){y(e,h,$),L(h,t,$),L(h,r,$),y(l,r,null),O(r,a),O(r,i),b[o].m(i,null),g=!0},p(h,[$]){const f={};!n&&$&1&&(n=!0,f.size=h[0],K(()=>n=!1)),e.$set(f);const m={};$&4&&(m.icon=h[2]==="popup"?ne:oe),$&68&&(m.$$scope={dirty:$,ctx:h}),l.$set(m);let w=o;o=N(h),o!==w&&(M(),d(b[w],1,1,()=>{b[w]=null}),W(),c=b[o],c||(c=b[o]=_[o](h),c.c()),p(c,1),c.m(i,null)),(!g||$&1&&u!==(u=ae(h[0])+" svelte-1a44pmk"))&&H(i,"class",u)},i(h){g||(p(e.$$.fragment,h),p(l.$$.fragment,h),p(c),g=!0)},o(h){d(e.$$.fragment,h),d(l.$$.fragment,h),d(c),g=!1},d(h){E(e,h),h&&A(t),h&&A(r),E(l),b[o].d()}}}function an(s,e,n){let t,r=[],l="popup";function a(c){t=c,n(0,t)}return[t,r,l,a,c=>n(1,r=[...r,c.detail]),()=>{n(2,l=l==="popup"?"options":"popup")}]}class cn extends V{constructor(e){super();q(this,e,an,on,G,{})}}new cn({target:document.getElementById("app")});
